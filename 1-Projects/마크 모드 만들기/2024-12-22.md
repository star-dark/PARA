오늘은 퀘스트 수락, 진행, 보상의 과정을 NPC입장에서의 GUI, 유저의 퀘스트 창 GUI 두 방면에서 구현하려고 했다. 

퀘스트는 수집, 사냥, 설치 정도의 종류로 나눌 수 있을 것 같다. (나머진 대화정도?) 그 중 사냥퀘스트를 구현해보도록 했다. 먼저 사냥퀘스트를 구현하기 위해서는 사냥 몹 엔티티를 생성해주어야 했다. 그리고 트리거 중 사망시 트리거에 퀘스트의 진척도를 올려주는 알고리즘을 넣어주면 사냥 퀘스트를 구현할 수 있었다.

문제는 NPC의 GUI에서 발생했다. GUI는 Source가 없다. 즉 내가 주민을 우클릭하여 GUI를 열었다해도 GUI와 Targer=나만 존재한다. 이 때문에 GUI를 통해 수락, 보상 등의 행위를 했을 때 주민과 나의 퀘스트 진척도의 싱크를 맞추는게 거의 불가능에 가깝다(가능하더라도 불필요한 과정이 들어가야함)
특히 퀘스트 창을 3개나 만들어 놓는 바람에 코드가 더 엉키는 문제까지 겹쳐졌다. 따라서 이러한 문제를 해결하기 위해선 퀘스트 자체를 메인퀘스트, 서브퀘스트로 크게 두 가지로 나눠 놓고 메인 퀘스트는 스토리라인으로 한명의 NPC가 쭉밀고 서브퀘스트는 직업퀘스트나 일일퀘스트로 하나만 받을 수 있게 해놓는 등의 장치를 해놔야 될 것 같다. 아쉬운대로 업적시스템을 좀 더 활용해보면 퀘스트를 줄이고 다양한 보상을 줄 수 있을 것 같다. 

내일 할일 : 퀘스트 2개로 줄이고 메인퀘, 서브퀘 구분하기,  퀘스트 보상 부분 해결하기, 유저 GUI와 NPC GUI 싱크 맞추기,  몇 가지 업적 만들기