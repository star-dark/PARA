크리스마스를 기념하여 화폐시스템과 보상시스템을 만들고 연계해보았다.
화폐시스템은 전역변수로 my_money를 두어 자신의 돈을 저장한다.
그리고 현재 자신의 자산을 Overlay를 통해 왼쪽상단에 띄우도록 설정해주었다.
![[돈.png]]
돈을 사용하기 위해서는 지폐가 있어야 될 것 같아서 만원, 오천원, 천원권을 만들고 오른쪽클릭 시 지폐가 사라지면서 해당 금액만큼 소지금이 늘도록 설정해줬다.
지폐아이템을 만들고 오른쪽 클릭 시 트리거를 이용하여 my_money가 늘어나게 하였고, 동시에 인벤토리에서 해당아이템을 삭제시켰다.

이러한 기능을 자유롭게 사용하도록 하기 위해 유저 GUI에 돈을 인출하는 탭을 추가하였다. R키를 통해 열었던 퀘스트 창 위에 탭을 만들어 퀘스트 창과 현금 인출 창을 구분할 수 있도록 만들었다. 퀘스트 탭은 이미지 버튼을 통해 만들었다.  
![[돈인출GUI.png]]
만원, 오천원, 천원 단위로 버튼을 클릭 시 해당 금액만큼 소지금이 줄고 지폐를 얻을 수 있도록 만들었다.

퀘스트 보상의 경우 퀘스트 컨텐츠처럼 퀘스트1,2에 대한 보상 금액을 담는 정수형 변수를 각각 선언하고 NPC를 우클릭했을 때 퀘스트를 주는 NPC의 Data에서 가져와서 보상을 저장하는 방식을 사용했다.
이 방식은 보상으로 돈만 줄 수 있다는 점이 아쉽다.. 전역변수로 Itemstack을 사용하고, 퀘스트에 따라 보상을 맵핑해준다면, 아이템을 주는 방식도 사용할 수 있을 것으로 보인다.

일단 이러한 방식으로 퀘스트를 줄때와, 유저의 퀘스트 창에서 보상이 보이게끔 설정할 수 있었고, 퀘스트를 깻을때 소지금이 늘어나는 형식의 보상을 줄 수 있었다.

이렇게 퀘스트와 보상시스템, 화폐시스템의 기본적인 틀이 완성되었다. 지금부터 할 수 있는 건 메인 퀘스트 설정, 일일 퀘스트 설정, 상점 시스템 개방 등이 있는데, 일일 퀘스트를 진행하는 Queen을 만들어 두었기 때문에, 랜덤한 아이템을 랜덤한 갯수를 가져와서 랜덤한 보상을 주는 일일 퀘스트를 주도록 설정해 볼 것이다. 
일일 퀘스트기 때문에 하루에 한번씩만 받을 수 있도록 설정해볼 것이다.
메인 퀘스트의 경우 튜토리얼부터 시작해서 엔더드래곤을 잡는 과정을 퀘스트로 담아내는 것도 좋아보인다.
(이후 몹업데이트를 통해 던전이나 레이드를 열 수 있음.)
상점시스템에서 화폐로 구매하게 될 품목이 관건인데,,, 식량이나 자원을 팔 지 귀환서랑 인벤세이브권, 부화권같은 특수효과 품목을 팔지 등으로 고민 중에 있다. 아마도 땅을 사는 느낌으로 진행될 것 같은데, 이 기능에 대해서도 고민을 해봐야 할 것 같다.
마지막으로 위 기능을 어느정도 만든다면, 재밌는 기능을 하는 NPC들이나 숨겨진 도전과제, 웨이포인트를 만들어 야생으로 텔레포트 할 수 있는 기능을 만드는 등 다양한 요소들을 만들면 좋을 것 같다.